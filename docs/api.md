# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ HTTP API

–ë–∞–∑–æ–≤—ã–π URL: `http://<host>:8081`

**173 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞** ‚Äî –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Bot API 9.4.

–í—Å–µ –æ—Ç–≤–µ—Ç—ã ‚Äî JSON. –ü—Ä–∏ –æ—à–∏–±–∫–µ: `{"detail": "–æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"}`.

---

## –ó–¥–æ—Ä–æ–≤—å–µ –∏ –º–µ—Ç—Ä–∏–∫–∏

### `GET /health`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.

**–û—Ç–≤–µ—Ç:**
```json
{"status": "ok", "time": "2025-01-01T12:00:00Z"}
```

### `GET /v1/metrics`

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º.

**–û—Ç–≤–µ—Ç:**
```json
{"sent": 42, "error": 1, "deleted": 5, "dry_run": 3}
```

---

## –°–æ–æ–±—â–µ–Ω–∏—è

### `POST /v1/messages/send`

–û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "chat_id": -100123456,
  "text": "<b>–ü—Ä–∏–≤–µ—Ç!</b>",
  "template": "fleet_status",
  "variables": {"title": "–°—Ç–∞—Ç—É—Å"},
  "parse_mode": "HTML",
  "reply_to_message_id": 101,
  "message_thread_id": 5,
  "disable_web_page_preview": true,
  "reply_markup": {
    "inline_keyboard": [[{"text": "OK", "callback_data": "ok"}]]
  },
  "request_id": "external-uuid",
  "live": false,
  "dry_run": false
}
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: `chat_id` + (`text` –∏–ª–∏ `template`).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `chat_id` | int/str | ID —á–∞—Ç–∞ |
| `text` | str | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–æ 4096 —Å–∏–º–≤–æ–ª–æ–≤) |
| `template` | str | –ò–º—è Jinja2-—à–∞–±–ª–æ–Ω–∞ (–≤–º–µ—Å—Ç–æ text) |
| `variables` | object | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —à–∞–±–ª–æ–Ω–∞ |
| `parse_mode` | str | `HTML` / `MarkdownV2` |
| `reply_to_message_id` | int | ID —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞ |
| `message_thread_id` | int | ID —Ç–æ–ø–∏–∫–∞ (–¥–ª—è —Ñ–æ—Ä—É–º–æ–≤) |
| `disable_web_page_preview` | bool | –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–µ–≤—å—é —Å—Å—ã–ª–æ–∫ |
| `reply_markup` | object | Inline/Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |
| `request_id` | str | –í–Ω–µ—à–Ω–∏–π ID –¥–ª—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ |
| `live` | bool | –ü–æ–º–µ—Ç–∫–∞ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-—Å–æ–æ–±—â–µ–Ω–∏–π |
| `dry_run` | bool | –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ Telegram |

**–û—Ç–≤–µ—Ç:**
```json
{
  "message": {
    "id": 1,
    "chat_id": "-100123456",
    "telegram_message_id": 42,
    "status": "sent",
    "text": "–ü—Ä–∏–≤–µ—Ç!",
    "parse_mode": "HTML",
    "created_at": "...",
    "sent_at": "..."
  },
  "result": {"message_id": 42}
}
```

### `POST /v1/messages/{id}/edit`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É ID.

**–¢–µ–ª–æ:**
```json
{
  "text": "–ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç",
  "parse_mode": "HTML",
  "reply_markup": null
}
```

### `POST /v1/messages/{id}/delete`

–£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É ID.

### `GET /v1/messages/{id}`

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ ID.

### `GET /v1/messages`

–°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `chat_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Ç—É |
| `status` | str | –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (`sent`, `error`, `deleted`, `dry_run`) |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50, –º–∞–∫—Å. 500) |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

### `POST /v1/messages/forward`

–ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.

```json
{
  "chat_id": -100123456,
  "from_chat_id": -100654321,
  "message_id": 42
}
```

### `POST /v1/messages/copy`

–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–±–µ–∑ –ø–æ–º–µ—Ç–∫–∏ ¬´–ü–µ—Ä–µ—Å–ª–∞–Ω–æ¬ª).

```json
{
  "chat_id": -100123456,
  "from_chat_id": -100654321,
  "message_id": 42,
  "caption": "–ù–æ–≤–∞—è –ø–æ–¥–ø–∏—Å—å",
  "parse_mode": "HTML"
}
```

---

## –ú–µ–¥–∏–∞

### `POST /v1/media/send-photo`

–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ –ø–æ URL –∏–ª–∏ file_id (JSON).

```json
{
  "chat_id": -100123456,
  "photo": "https://example.com/image.jpg",
  "caption": "<b>–û–ø–∏—Å–∞–Ω–∏–µ</b>",
  "parse_mode": "HTML",
  "reply_markup": null
}
```

### `POST /v1/media/upload-photo`

–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ —Ñ–∞–π–ª–æ–º (multipart/form-data).

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `chat_id` | form | ID —á–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `file` | file | –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `caption` | form | –ü–æ–¥–ø–∏—Å—å |
| `parse_mode` | form | `HTML` / `MarkdownV2` |
| `reply_to_message_id` | form | ID —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞ |
| `dry_run` | form | `true` ‚Äî –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å |

```bash
curl -X POST http://127.0.0.1:8081/v1/media/upload-photo \
  -F "chat_id=-100123456" \
  -F "caption=–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ç–æ" \
  -F "parse_mode=HTML" \
  -F "file=@photo.jpg"
```

### `POST /v1/media/send-document`

–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ URL –∏–ª–∏ file_id.

```json
{
  "chat_id": -100123456,
  "document": "https://example.com/file.pdf",
  "caption": "–î–æ–∫—É–º–µ–Ω—Ç"
}
```

### `POST /v1/media/send-video`

–û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ –ø–æ URL –∏–ª–∏ file_id.

```json
{
  "chat_id": -100123456,
  "video": "https://example.com/video.mp4",
  "caption": "–í–∏–¥–µ–æ"
}
```

---

## –®–∞–±–ª–æ–Ω—ã

### `POST /v1/templates`

–°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞.

```json
{
  "name": "report",
  "body": "<b>{{ title }}</b>\n{{ content }}",
  "parse_mode": "HTML",
  "description": "–®–∞–±–ª–æ–Ω –æ—Ç—á—ë—Ç–∞"
}
```

### `GET /v1/templates`

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤.

### `GET /v1/templates/{name}`

–ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –ø–æ –∏–º–µ–Ω–∏.

### `POST /v1/templates/{name}/render`

–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ (–±–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏).

```json
{"variables": {"title": "–û—Ç—á—ë—Ç", "content": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ"}}
```

**–û—Ç–≤–µ—Ç:**
```json
{"text": "<b>–û—Ç—á—ë—Ç</b>\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ", "parse_mode": "HTML"}
```

### `POST /v1/templates/seed`

–ó–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `templates/`.

---

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### `POST /v1/commands`

–°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥.

```json
{
  "scope_type": "chat_member",
  "chat_id": -100123456,
  "user_id": 777,
  "commands": [
    {"command": "start", "description": "–ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É"},
    {"command": "help", "description": "–°–ø—Ä–∞–≤–∫–∞"}
  ]
}
```

| scope_type | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `default` | –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã |
| `all_private_chats` | –í—Å–µ –ª–∏—á–Ω—ã–µ —á–∞—Ç—ã |
| `all_group_chats` | –í—Å–µ –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã |
| `chat` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —á–∞—Ç |
| `chat_administrators` | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —á–∞—Ç–∞ |
| `chat_member` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —á–∞—Ç–µ |

### `GET /v1/commands`

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–±–æ—Ä–æ–≤ –∫–æ–º–∞–Ω–¥.

### `POST /v1/commands/sync`

–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–∞–±–æ—Ä–∞ —Å Telegram (–≤—ã–∑–æ–≤ setMyCommands).

```json
{"command_set_id": 1}
```

---

## Callback Queries

### `POST /v1/callbacks/answer`

–û—Ç–≤–µ—Ç –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ inline-–∫–Ω–æ–ø–∫–∏.

```json
{
  "callback_query_id": "123456789",
  "text": "–ü—Ä–∏–Ω—è—Ç–æ!",
  "show_alert": false
}
```

### `GET /v1/callbacks`

–°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö callback queries.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `chat_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Ç—É |
| `user_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| `answered` | bool | –§–∏–ª—å—Ç—Ä: –æ—Ç–≤–µ—á–µ–Ω/–Ω–µ –æ—Ç–≤–µ—á–µ–Ω |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

### `GET /v1/callbacks/{id}`

–ü–æ–ª—É—á–µ–Ω–∏–µ callback query –ø–æ ID.

---

## –ß–∞—Ç—ã

### `GET /v1/chats/{chat_id}`

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ –æ—Ç Telegram API (getChat).

### `GET /v1/chats/{chat_id}/members/{user_id}`

–°—Ç–∞—Ç—É—Å —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞ (getChatMember).

### `GET /v1/chats/{chat_id}/members/count`

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (getChatMemberCount).

### `POST /v1/chats/{chat_id}/pin/{message_id}`

–ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ.

### `DELETE /v1/chats/{chat_id}/pin/{message_id}`

–û—Ç–∫—Ä–µ–ø–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ.

### `GET /v1/chats/{chat_id}/stored`

–î–∞–Ω–Ω—ã–µ –æ —á–∞—Ç–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î (–∏–∑ –≤–µ–±—Ö—É–∫–æ–≤).

### `GET /v1/chats/{chat_id}/stored-users`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ –ë–î, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—Å–∞–ª–∏ –≤ –¥–∞–Ω–Ω–æ–º —á–∞—Ç–µ.

---

## –í–µ–±—Ö—É–∫–∏

### `POST /telegram/webhook`

–ü—Ä–∏—ë–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram (webhook target).

### `POST /telegram/webhook/{bot_id}`

–ü—Ä–∏—ë–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –±–æ—Ç—É.

### `GET /v1/updates`

–°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |
| `update_type` | str | –§–∏–ª—å—Ç—Ä: `message`, `callback_query`, `edited_message` |
| `bot_id` | int | –§–∏–ª—å—Ç—Ä –ø–æ –±–æ—Ç—É (–º—É–ª—å—Ç–∏–±–æ—Ç) |

### `GET /v1/updates/poll`

Long polling —á–µ—Ä–µ–∑ `getUpdates`.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `bot_id` | int | –ë–æ—Ç –¥–ª—è polling (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è default context) |
| `offset` | int | –Ø–≤–Ω—ã–π offset. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, –±–µ—Ä—ë—Ç—Å—è –∏–∑ `update_offset` –¥–ª—è bot context |
| `limit` | int | –î–æ 100 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |
| `timeout` | int | –¢–∞–π–º–∞—É—Ç long polling (—Å–µ–∫) |
| `allowed_updates` | list[str] | –§–∏–ª—å—Ç—Ä —Ç–∏–ø–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π |

### `POST /v1/updates/ack`

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ offset.

```json
{
  "offset": 123457,
  "bot_id": 123456789
}
```

`bot_id` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è default offset context.

### `GET /v1/updates/offset`

–¢–µ–∫—É—â–∏–π offset –¥–ª—è polling context.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `bot_id` | int | –í–µ—Ä–Ω—É—Ç—å offset –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞. –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ‚Äî default context |

### `POST /v1/webhook/set`

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞ —É Telegram.

```json
{
  "url": "https://example.com/telegram/webhook",
  "secret_token": "my-secret",
  "allowed_updates": ["message", "callback_query"]
}
```

### `DELETE /v1/webhook`

–£–¥–∞–ª–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–∞.

### `GET /v1/webhook/info`

–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–∞ (getWebhookInfo).

---

## –û–ø—Ä–æ—Å—ã

### `POST /v1/polls/send`

–°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞ –∏–ª–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "chat_id": -100123456,
  "question": "–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?",
  "options": ["Python", "JavaScript", "Go", "Rust"],
  "type": "quiz",
  "correct_option_id": 0,
  "explanation": "Python ‚Äî —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —è–∑—ã–∫ –¥–ª—è ML –∏ data science",
  "explanation_parse_mode": "HTML",
  "is_anonymous": true,
  "allows_multiple_answers": false,
  "open_period": 300,
  "reply_markup": null
}
```

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `chat_id` | int/str | ID —á–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `question` | str | –í–æ–ø—Ä–æ—Å (1-300 —Å–∏–º–≤–æ–ª–æ–≤, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `options` | list[str] | –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–∞ (2-10 —à—Ç., –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `type` | str | `regular` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ `quiz` |
| `correct_option_id` | int | –ò–Ω–¥–µ–∫—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è quiz) |
| `explanation` | str | –ü–æ—è—Å–Ω–µ–Ω–∏–µ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –æ—Ç–≤–µ—Ç—É (–º–∞–∫—Å. 200 —Å–∏–º–≤–æ–ª–æ–≤) |
| `explanation_parse_mode` | str | `HTML` / `MarkdownV2` –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏—è |
| `is_anonymous` | bool | –ê–Ω–æ–Ω–∏–º–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true) |
| `allows_multiple_answers` | bool | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä (—Ç–æ–ª—å–∫–æ regular) |
| `open_period` | int | –í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (5-600) |
| `close_date` | int | Unix timestamp –∑–∞–∫—Ä—ã—Ç–∏—è –æ–ø—Ä–æ—Å–∞ |
| `is_closed` | bool | –°–æ–∑–¥–∞—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–π –æ–ø—Ä–æ—Å |
| `reply_markup` | object | Inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "chat_id": "-100123456",
  "telegram_message_id": 42,
  "poll_id": "5312345678901234567",
  "question": "–ö–∞–∫–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ?",
  "type": "quiz",
  "is_closed": false,
  "status": "sent"
}
```

### `POST /v1/polls/{chat_id}/{message_id}/stop`

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ä–æ—Å–∞ —Å –ø–æ–∫–∞–∑–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:**
- `chat_id` ‚Äî ID —á–∞—Ç–∞
- `message_id` ‚Äî telegram_message_id –æ–ø—Ä–æ—Å–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "poll_id": "5312345678901234567",
  "question": "...",
  "total_voter_count": 42,
  "is_closed": true
}
```

### `GET /v1/polls`

–°–ø–∏—Å–æ–∫ –æ–ø—Ä–æ—Å–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `chat_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Ç—É |
| `type` | str | –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (`regular`, `quiz`) |
| `is_closed` | bool | –§–∏–ª—å—Ç—Ä: –∑–∞–∫—Ä—ã—Ç/–æ—Ç–∫—Ä—ã—Ç |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50, –º–∞–∫—Å. 500) |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

### `GET /v1/polls/{poll_id}`

–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞ –ø–æ poll_id.

### `GET /v1/polls/{poll_id}/answers`

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–ø—Ä–æ—Å.

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "poll_id": "5312345678901234567",
    "user_id": "777",
    "option_ids": [0, 2],
    "created_at": "..."
  }
]
```

---

## –†–µ–∞–∫—Ü–∏–∏

### `POST /v1/reactions/set`

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "chat_id": -100123456,
  "message_id": 42,
  "reaction": [
    {"type": "emoji", "emoji": "üëç"},
    {"type": "emoji", "emoji": "üî•"}
  ],
  "is_big": false
}
```

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `chat_id` | int/str | ID —á–∞—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `message_id` | int | telegram_message_id (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `reaction` | list[object] | –°–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π (–ø—É—Å—Ç–æ–π = —É–¥–∞–ª–∏—Ç—å –≤—Å–µ) |
| `is_big` | bool | –ë–æ–ª—å—à–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false) |

**–¢–∏–ø—ã —Ä–µ–∞–∫—Ü–∏–π:**
```json
// –≠–º–æ–¥–∑–∏
{"type": "emoji", "emoji": "üëç"}

// –ö–∞—Å—Ç–æ–º–Ω–æ–µ —ç–º–æ–¥–∑–∏ (Premium)
{"type": "custom_emoji", "custom_emoji_id": "5312536423851630001"}

// –ü–ª–∞—Ç–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è (Telegram Stars)
{"type": "paid"}
```

**–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–º–æ–¥–∑–∏**: üëç, üëé, ‚ù§Ô∏è, üî•, ü•∞, üëè, üòÅ, ü§î, ü§Ø, üò±, ü§¨, üò¢, üéâ, ü§©, ü§Æ, üí©, üôè, üëå, üïä, ü§°, ü•±, ü•¥, üòç, üê≥, ‚ù§‚Äçüî•, üåö, üå≠, üíØ, ü§£, ‚ö°, üçå, üèÜ, üíî, ü§®, üòê, üçì, üçæ, üíã, üñï, üòà, üò¥, üò≠, ü§ì, üëª, üë®‚Äçüíª, üëÄ, üéÉ, üôà, üòá, üò®, ü§ù, ‚úç, ü§ó, ü´°, üéÖ, üéÑ, ‚òÉ, üíÖ, ü§™, üóø, üÜí, üíò, üôâ, ü¶Ñ, üòò, üíä, üôä, üòé, üëæ, ü§∑‚Äç‚ôÇÔ∏è, ü§∑, ü§∑‚Äç‚ôÄÔ∏è, üò°

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true
}
```

### `GET /v1/reactions`

–°–ø–∏—Å–æ–∫ —Ä–µ–∞–∫—Ü–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `chat_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Ç—É |
| `user_id` | str | –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é |
| `reaction_type` | str | –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (`emoji`, `custom_emoji`, `paid`) |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

### `GET /v1/reactions/{chat_id}/{message_id}`

–í—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "chat_id": "-100123456",
    "telegram_message_id": 42,
    "user_id": "777",
    "reaction_type": "emoji",
    "emoji": "üëç",
    "created_at": "..."
  }
]
```

---

## –ë–æ—Ç

### `GET /v1/bot/me`

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ (getMe): –∏–º—è, username, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∏—á–∏.

---

## Web-UI (proxy –∫ tgweb)

### `POST /v1/web/pages`

–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

```json
{
  "title": "–ú–æ–π –æ–ø—Ä–æ—Å",
  "page_type": "survey",
  "slug": "my-survey",
  "config": {
    "fields": [
      {"name": "rating", "type": "select", "label": "–û—Ü–µ–Ω–∫–∞", "options": ["1", "2", "3", "4", "5"]}
    ]
  },
  "bot_id": 123456789,
  "event_id": null
}
```

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `title` | str | –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `page_type` | str | `page`, `survey`, `prediction` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `page`) |
| `slug` | str | URL-slug (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω) |
| `config` | object | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ–ª—è —Ñ–æ—Ä–º—ã, –∫–æ–Ω—Ç–µ–Ω—Ç –∏ —Ç.–¥.) |
| `template` | str | –ò–º—è —à–∞–±–ª–æ–Ω–∞ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ |
| `bot_id` | int | ID –±–æ—Ç–∞ |
| `event_id` | int | ID —Å–æ–±—ã—Ç–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (–¥–ª—è type=prediction) |

### `GET /v1/web/pages`

–°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `page_type` | str | –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É |
| `is_active` | bool | –§–∏–ª—å—Ç—Ä: –∞–∫—Ç–∏–≤–Ω—ã–µ/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50) |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

### `GET /v1/web/pages/{slug}`

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ slug.

### `DELETE /v1/web/pages/{slug}`

–£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### `POST /v1/web/pages/{slug}/links`

–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏.

```json
{
  "user_id": 777,
  "chat_id": -100123456,
  "metadata": {"source": "private_message"},
  "expires_at": "2026-03-01T00:00:00Z"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "token": "a1b2c3d4e5f6...",
  "url": "https://tg.example.com:8090/l/a1b2c3d4e5f6..."
}
```

### `GET /v1/web/pages/{slug}/submissions`

–û—Ç–≤–µ—Ç—ã –Ω–∞ —Ñ–æ—Ä–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |

---

## –ë–æ—Ç—ã (Bot API 9.4)

### `GET /v1/bots`

–°–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤.

### `POST /v1/bots`

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω—É.

```json
{"token": "123456:ABC-DEF", "is_default": true}
```

### `GET /v1/bots/default`

–ë–æ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### `PUT /v1/bots/{bot_id}/default`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### `DELETE /v1/bots/{bot_id}`

–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞.

### `POST /v1/bots/profile-photo`

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –±–æ—Ç–∞ (Bot API 9.4).

```json
{"photo": {"type": "static", "sticker": "..."}, "is_public": true, "bot_id": null}
```

### `DELETE /v1/bots/profile-photo`

–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –±–æ—Ç–∞.

### `GET /v1/bots/users/{user_id}/profile-audios`

–ü–æ–ª—É—á–∏—Ç—å –∞—É–¥–∏–æ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Bot API 9.4).

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `bot_id` | int | –ë–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| `offset` | int | –°–º–µ—â–µ–Ω–∏–µ |
| `limit` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |

### `POST /v1/bots/star-subscription/edit`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å Star-–ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Bot API 8.0).

```json
{"user_id": 777, "telegram_payment_charge_id": "...", "is_canceled": true}
```

---

## –§–æ—Ä—É–º-—Ç–æ–ø–∏–∫–∏ (Bot API 9.3)

### `POST /v1/forums/topics`

–°–æ–∑–¥–∞—Ç—å —Ç–æ–ø–∏–∫ –≤ —Ñ–æ—Ä—É–º-–≥—Ä—É–ø–ø–µ.

```json
{"chat_id": -100123456, "name": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ", "icon_color": 7322096, "icon_custom_emoji_id": "..."}
```

### `PUT /v1/forums/topics/{topic_id}`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º—è/–∏–∫–æ–Ω–∫—É —Ç–æ–ø–∏–∫–∞.

### `POST /v1/forums/topics/{topic_id}/close`

–ó–∞–∫—Ä—ã—Ç—å —Ç–æ–ø–∏–∫.

### `POST /v1/forums/topics/{topic_id}/reopen`

–ü–æ–≤—Ç–æ—Ä–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–æ–ø–∏–∫.

### `DELETE /v1/forums/topics/{topic_id}`

–£–¥–∞–ª–∏—Ç—å —Ç–æ–ø–∏–∫.

### `POST /v1/forums/general/hide`

–°–∫—Ä—ã—Ç—å General-—Ç–æ–ø–∏–∫.

### `POST /v1/forums/general/unhide`

–ü–æ–∫–∞–∑–∞—Ç—å General-—Ç–æ–ø–∏–∫.

---

## –ò—Å—Ç–æ—Ä–∏–∏ (Bot API 9.0‚Äì9.3)

### `POST /v1/stories/post`

–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤ –∫–∞–Ω–∞–ª.

```json
{"chat_id": -100123456, "content": {"type": "photo", "photo": "..."}, "caption": "..."}
```

### `PUT /v1/stories/{story_id}`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é.

### `DELETE /v1/stories/{story_id}`

–£–¥–∞–ª–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é.

### `POST /v1/stories/repost`

–†–µ–ø–æ—Å—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –≤ –¥—Ä—É–≥–æ–π (Bot API 9.3).

```json
{"chat_id": -100123456, "from_chat_id": -100654321, "story_id": 42}
```

---

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã (Bot API 9.2)

### `POST /v1/suggested-posts/approve`

–û–¥–æ–±—Ä–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ—Å—Ç –≤ –±–∏–∑–Ω–µ—Å-–∫–∞–Ω–∞–ª–µ.

```json
{"business_connection_id": "abc123", "message_id": 42, "is_scheduled": false}
```

### `POST /v1/suggested-posts/decline`

–û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ—Å—Ç.

```json
{"business_connection_id": "abc123", "message_id": 42}
```

---

## –ß–µ–∫-–ª–∏—Å—Ç—ã (Bot API 9.1)

### `POST /v1/checklists/send`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç (–¥–æ 30 –∑–∞–¥–∞—á).

```json
{
  "chat_id": -100123456,
  "title": "–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è",
  "tasks": [
    {"id": 1, "text": "–ü–µ—Ä–≤–∞—è –∑–∞–¥–∞—á–∞"},
    {"id": 2, "text": "–í—Ç–æ—Ä–∞—è –∑–∞–¥–∞—á–∞", "checked": true}
  ]
}
```

### `PUT /v1/messages/{id}/checklist`

–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–µ–∫-–ª–∏—Å—Ç.

---

## –ó–≤—ë–∑–¥—ã –∏ –ø–æ–¥–∞—Ä–∫–∏ (Bot API 9.1‚Äì9.3)

### `GET /v1/stars/balance`

–ë–∞–ª–∞–Ω—Å –∑–≤—ë–∑–¥ –±–æ—Ç–∞ (Bot API 9.1).

### `POST /v1/stars/invoice`

–°–æ–∑–¥–∞—Ç—å —Å—á—ë—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É Stars.

### `POST /v1/stars/refund`

–í–æ–∑–≤—Ä–∞—Ç Stars –ø–ª–∞—Ç–µ–∂–∞.

### `GET /v1/stars/transactions`

–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π Stars.

### `POST /v1/gifts/premium`

–ü–æ–¥–∞—Ä–∏—Ç—å –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫—É –∑–∞ –∑–≤—ë–∑–¥—ã (Bot API 9.3).

```json
{"user_id": 777, "month_count": 3, "star_count": 1000}
```

### `GET /v1/gifts/user/{user_id}`

–ü–æ–¥–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Bot API 9.3).

### `GET /v1/gifts/chat/{chat_id}`

–ü–æ–¥–∞—Ä–∫–∏ —á–∞—Ç–∞ (Bot API 9.3).

---

## –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ (Bot API 9.3)

### `POST /v1/messages/draft`

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏—è (–¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ LLM).

```json
{
  "business_connection_id": "abc123",
  "chat_id": 123456789,
  "text": "–¢–µ–∫—Å—Ç —á–µ—Ä–Ω–æ–≤–∏–∫–∞",
  "parse_mode": "HTML"
}
```

---

## Cross-cutting –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (Bot API 9.2)

–°–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤–æ –≤—Å–µ send-–º–µ—Ç–æ–¥—ã (messages, media, checklists):

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `direct_messages_topic_id` | int | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –≤ —Ç–æ–ø–∏–∫ —á–µ—Ä–µ–∑ Direct Messages |
| `suggested_post_parameters` | object | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ |

---

## –ö–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| 400 | –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–≤–∞–ª–∏–¥–∞—Ü–∏—è) |
| 404 | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 409 | –ö–æ–Ω—Ñ–ª–∏–∫—Ç (–Ω–∞–ø—Ä., –Ω–µ—Ç telegram_message_id –¥–ª—è edit) |
| 502 | –û—à–∏–±–∫–∞ Telegram Bot API |
| 500 | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ |
