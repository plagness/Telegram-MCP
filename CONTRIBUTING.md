# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—á–∞—Å—Ç–∏—é –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ Telegram-MCP! –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### 1. –§–æ—Ä–∫ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/plagness/Telegram-MCP.git
cd Telegram-MCP
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞—Ç—å .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TELEGRAM_BOT_TOKEN –≤ .env
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ —É @BotFather –≤ Telegram
```

### 3. –ó–∞–ø—É—Å–∫ –≤ dev-—Ä–µ–∂–∏–º–µ

```bash
docker compose -f compose.yml up -d --build
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
curl http://127.0.0.1:8081/health
curl http://127.0.0.1:3335/health
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Telegram-MCP/
‚îú‚îÄ‚îÄ api/                    # FastAPI-—Å–µ—Ä–≤–∏—Å (Python)
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îú‚îÄ‚îÄ routers/        # HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ models.py       # Pydantic-–º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ mcp/                    # MCP-—Å–µ—Ä–≤–µ—Ä (Node.js/TypeScript)
‚îÇ   ‚îî‚îÄ‚îÄ src/index.ts        # MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ sdk/                    # Python SDK –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ db/init/                # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ scripts/                # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îî‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏—á–∏

1. **–°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É**:
   ```bash
   git checkout -b feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏
   ```

2. **–í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
   - –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç: —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Ä–æ—É—Ç–µ—Ä –≤ `api/app/routers/`
   - –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É: —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å –≤ `api/app/services/`
   - –ï—Å–ª–∏ –∏–∑–º–µ–Ω—è–µ—Ç–µ –ë–î: —Å–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –≤ `db/init/`
   - –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç: –æ–±–Ω–æ–≤–∏—Ç—å `mcp/src/index.ts`
   - –ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä—è–µ—Ç–µ SDK: –æ–±–Ω–æ–≤–∏—Ç—å `sdk/telegram_api_client/client.py`

3. **–°–æ–±–ª—é–¥–∞—Ç—å —Å—Ç–∏–ª—å –∫–æ–¥–∞**:
   - **Python**: –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö/—Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, docstrings/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - **TypeScript**: –∏–º–µ–Ω–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   ```bash
   # –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≤ scripts/
   export TEST_CHAT_ID=-100–≤–∞—à_chat_id
   python scripts/test_–Ω–∞–∑–≤–∞–Ω–∏–µ.py --chat-id $TEST_CHAT_ID
   ```

5. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**:
   - –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ `docs/api.md` (–¥–ª—è HTTP API)
   - –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ `docs/sdk.md` (–¥–ª—è SDK)
   - –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ `docs/mcp.md` (–¥–ª—è MCP)
   - –û–±–Ω–æ–≤–∏—Ç—å `README.md` –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä—É–ø–Ω–∞—è —Ñ–∏—á–∞

6. **–ö–æ–º–º–∏—Ç**:
   ```bash
   git add .
   git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è"
   ```

### –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∫–æ–º–º–∏—Ç–∞–º

–ò—Å–ø–æ–ª—å–∑—É–µ–º [Conventional Commits](https://www.conventionalcommits.org/):

- `feat:` ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- `fix:` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs:` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `refactor:` ‚Äî —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- `test:` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore:` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, CI/CD

–ü—Ä–∏–º–µ—Ä—ã:
```
feat: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –æ–ø—Ä–æ—Å–æ–≤ (sendPoll)
fix: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ telegram_client
docs: –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ README
refactor: –≤—ã–Ω–µ—Å—Ç–∏ —Ä–æ—É—Ç–µ—Ä—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
```

### Pull Request

1. **–ü—É—à –≤ fork**:
   ```bash
   git push origin feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-—Ñ–∏—á–∏
   ```

2. **–°–æ–∑–¥–∞—Ç—å PR** –Ω–∞ GitHub —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º:
   - –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ/–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
   - –ö–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã/–º–µ—Ç–æ–¥—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**:
   - CI/CD –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ
   - –ö–æ–¥ —Ä–µ–≤—å—é –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   - –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—ã

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

### Python (FastAPI, SDK)

```python
# ‚úÖ –•–æ—Ä–æ—à–æ
async def send_message(
    chat_id: int | str,
    text: str,
    parse_mode: str | None = None,
) -> dict[str, Any]:
    """
    –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç.

    Args:
        chat_id: ID —á–∞—Ç–∞
        text: –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
        parse_mode: –†–µ–∂–∏–º –ø–∞—Ä—Å–∏–Ω–≥–∞ (HTML, MarkdownV2)

    Returns:
        dict: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
    """
    ...

# ‚ùå –ü–ª–æ—Ö–æ (–Ω–µ—Ç docstring, –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞)
async def sm(c, t, pm=None):
    ...
```

### TypeScript (MCP)

```typescript
// ‚úÖ –•–æ—Ä–æ—à–æ
addTool({
  name: "messages.send",
  description: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç Telegram",
  parameters: z.object({
    chat_id: z.union([z.number(), z.string()]).describe("ID —á–∞—Ç–∞"),
    text: z.string().describe("–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è"),
  }),
});

// ‚ùå –ü–ª–æ—Ö–æ (–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)
addTool({
  name: "messages.send",
  description: "Send text message to chat",
  ...
});
```

### SQL (–ú–∏–≥—Ä–∞—Ü–∏–∏)

```sql
-- ‚úÖ –•–æ—Ä–æ—à–æ: –∏–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü/–∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
CREATE TABLE polls (
    id SERIAL PRIMARY KEY,
    poll_id TEXT UNIQUE NOT NULL,  -- Telegram poll_id
    question TEXT NOT NULL,         -- –í–æ–ø—Ä–æ—Å –æ–ø—Ä–æ—Å–∞
    created_at TIMESTAMPTZ DEFAULT NOW()
);

-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX idx_polls_chat_id ON polls(chat_id);
```

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–π: `[–≥–æ–¥].[–º–µ—Å—è—Ü].[–≤–µ—Ä—Å–∏—è]`

- `2025.02.1` ‚Äî –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Ñ–µ–≤—Ä–∞–ª—è 2025
- `2025.02.2` ‚Äî –≤—Ç–æ—Ä–æ–π —Ä–µ–ª–∏–∑ —Ñ–µ–≤—Ä–∞–ª—è 2025
- `2025.03.1` ‚Äî –ø–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ –º–∞—Ä—Ç–∞ 2025

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏—á–∏ –æ–±–Ω–æ–≤–∏—Ç–µ:
1. `VERSION` ‚Äî –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–∏—Ñ—Ä—ã
2. `CHANGELOG.md` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –í–æ–ø—Ä–æ—Å—ã?

- –°–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/plagness/Telegram-MCP/issues)
- –û–±—Å—É–¥–∏—Ç–µ –≤ [Discussions](https://github.com/plagness/Telegram-MCP/discussions)

–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∫–ª–∞–¥! üöÄ
